query SearchAll($workspaceId: uuid!, $searchTerm: String!, $userId: uuid!) {
  folders(
    where: {
      workspace_id: { _eq: $workspaceId }
      _or: [
        { name: { _ilike: $searchTerm } }
        { description: { _ilike: $searchTerm } }
      ]
    }
    limit: 20
    order_by: { created_at: desc }
  ) {
    id
    name
    user {
      id
      avatar_url
    }
    workspace {
      id
      name
    }
  }

  documents: blocks(
    where: {
      workspace_id: { _eq: $workspaceId }
      type: { _eq: "page" }
      deleted_at: { _is_null: true }
      content: { _cast: { String: { _ilike: $searchTerm } } }
    }
    limit: 20
    order_by: { updated_at: desc }
  ) {
    id
    content
    user {
      id
      avatar_url
    }
    workspace {
      id
      name
    }
  }

  sharedDocuments: blocks(
    where: {
      type: { _eq: "page" }
      deleted_at: { _is_null: true }
      content: { _cast: { String: { _ilike: $searchTerm } } }
      access_requests: {
        requester_id: { _eq: $userId }
        status: { _eq: "approved" }
      }
    }
    limit: 20
    order_by: { updated_at: desc }
  ) {
    id
    content
    workspace_id
    user {
      id
      name
      avatar_url
    }
  }

  tasks(
    where: {
      block: {
        workspace_id: { _eq: $workspaceId }
        content: { _cast: { String: { _ilike: $searchTerm } } }
      }
    }
    limit: 20
    order_by: { created_at: desc }
  ) {
    id
    user {
      id
      avatar_url
    }
    block {
      id
      content
    }
  }
}
