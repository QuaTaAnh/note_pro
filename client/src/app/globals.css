@import '../styles/_variables.scss';
@import '../styles/_keyframe-animations.scss';

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 222.2 84% 4.9%;
    --card: 0 0% 100%;
    --card-foreground: 222.2 84% 4.9%;
    --popover: 0 0% 100%;
    --popover-foreground: 222.2 84% 4.9%;
    --primary: 222.2 47.4% 11.2%;
    --primary-foreground: 210 40% 98%;
    --secondary: 210 40% 96%;
    --secondary-foreground: 222.2 47.4% 11.2%;
    --muted: 210 40% 96%;
    --muted-foreground: 215.4 16.3% 46.9%;
    --accent: 210 40% 96%;
    --accent-foreground: 222.2 47.4% 11.2%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 210 40% 98%;
    --border: 214.3 31.8% 91.4%;
    --input: 214.3 31.8% 91.4%;
    --ring: 222.2 84% 4.9%;
    --radius: 0.5rem;

    /* Modal specific colors */
    --modal-background: 224 23% 13%;
    --modal-foreground: 210 40% 98%;
    --modal-border: 225 26% 18%;
    --modal-input: 225 26% 18%;
    --modal-muted: 215 20.2% 65.1%;

    /* Color picker defaults */
    --color-picker-1: 0 0% 100%;
    --color-picker-2: 217.2 91.2% 59.8%;
    --color-picker-3: 142.1 76.2% 36.3%;
    --color-picker-4: 38.4 97.8% 56.1%;
    --color-picker-5: 0 84.2% 60.2%;
    --color-picker-6: 271.5 81.3% 55.9%;
  }

  .dark {
    --background: 222.2 84% 4.9%;
    --foreground: 210 40% 98%;
    --card: 222.2 84% 4.9%;
    --card-foreground: 210 40% 98%;
    --popover: 222.2 84% 4.9%;
    --popover-foreground: 210 40% 98%;
    --primary: 210 40% 98%;
    --primary-foreground: 222.2 47.4% 11.2%;
    --secondary: 217.2 32.6% 17.5%;
    --secondary-foreground: 210 40% 98%;
    --muted: 217.2 32.6% 17.5%;
    --muted-foreground: 215 20.2% 65.1%;
    --accent: 217.2 32.6% 17.5%;
    --accent-foreground: 210 40% 98%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 210 40% 98%;
    --border: 217.2 32.6% 17.5%;
    --input: 217.2 32.6% 17.5%;
    --ring: 212.7 26.8% 83.9%;
  }
}

@layer utilities {
  .shadow-y {
    box-shadow: 
      0 -4px 6px -1px rgba(0,0,0,0.1), 
      0 4px 6px -1px rgba(0,0,0,0.1); 
  }

  .dark .shadow-y {
    box-shadow: 
      0 -4px 6px -1px rgba(255,255,255,0.1),
      0 4px 6px -1px rgba(255,255,255,0.1);
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
  }
}

/* Additional styles */
html,
body {
  max-width: 100vw;
  overflow-x: hidden;
}

body {
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

* {
  box-sizing: border-box;
  padding: 0;
  margin: 0;
}

a {
  color: inherit;
  text-decoration: none;
}

@media (prefers-color-scheme: dark) {
  html {
    color-scheme: dark;
  }
}

/* Toast Customizations */
[data-sonner-toaster] {
  /* Success Toast */
  .toast-success [data-icon] {
    color: hsl(142 76% 36%) !important; /* Green for light mode */
  }
  
  /* Error Toast */
  .toast-error [data-icon] {
    color: hsl(346 87% 43%) !important; /* Red for light mode */
  }
  
  /* Warning Toast */
  .toast-warning [data-icon] {
    color: hsl(38 92% 50%) !important; /* Yellow/Orange for light mode */
  }
  
  /* Info Toast */
  .toast-info [data-icon] {
    color: hsl(217 91% 60%) !important; /* Blue for light mode */
  }
}

/* Dark mode toast icons */
.dark [data-sonner-toaster] {
  /* Success Toast */
  .toast-success [data-icon] {
    color: hsl(142 72% 29%) !important; /* Green for dark mode */
  }
  
  /* Error Toast */
  .toast-error [data-icon] {
    color: hsl(346 84% 61%) !important; /* Red for dark mode */
  }
  
  /* Warning Toast */
  .toast-warning [data-icon] {
    color: hsl(48 96% 53%) !important; /* Yellow for dark mode */
  }
  
  /* Info Toast */
  .toast-info [data-icon] {
    color: hsl(217 91% 60%) !important; /* Blue for dark mode */
  }
}

/* Toast container styling */
[data-sonner-toast] {
  border-radius: 8px !important;
  padding: 16px !important;
}

/* Remove close button padding if it appears */
[data-sonner-toast] [data-close-button] {
  display: none !important;
}

/* Prevent flash of unstyled content during authentication checks */
.auth-loading {
  opacity: 0;
  transition: opacity 0.1s ease-in-out;
}

.auth-ready {
  opacity: 1;
  transition: opacity 0.1s ease-in-out;
}

/* Hide content during initial load to prevent flash */
html:not([data-auth-ready]) body {
  visibility: hidden;
}

/* Notion-like Editor Styles */
.notion-like-editor {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol";
}

.notion-like-editor textarea {
  font-family: inherit;
  line-height: 1.5;
}

.notion-like-editor textarea:focus {
  outline: none;
  box-shadow: none;
}

/* Auto-resize textarea */
.notion-like-editor textarea {
  overflow: hidden;
  resize: none;
}

/* Smooth transitions */
.notion-like-editor * {
  transition: all 0.15s ease-in-out;
}

/* Block hover effects */
.notion-like-editor .group:hover {
  background-color: rgba(0, 0, 0, 0.02);
}

/* Focus states */
.notion-like-editor .group:focus-within {
  background-color: rgba(59, 130, 246, 0.05);
}

/* Custom scrollbar */
.notion-like-editor ::-webkit-scrollbar {
  width: 6px;
}

.notion-like-editor ::-webkit-scrollbar-track {
  background: transparent;
}

.notion-like-editor ::-webkit-scrollbar-thumb {
  background: rgba(0, 0, 0, 0.1);
  border-radius: 3px;
}

.notion-like-editor ::-webkit-scrollbar-thumb:hover {
  background: rgba(0, 0, 0, 0.2);
}

/* Placeholder styles */
.notion-like-editor textarea::placeholder {
  color: #9ca3af;
  font-style: italic;
}

/* Block type specific styles */
.notion-like-editor .block-heading {
  font-weight: 600;
  font-size: 1.25rem;
  line-height: 1.3;
}

.notion-like-editor .block-paragraph {
  font-size: 1rem;
  line-height: 1.6;
}

.notion-like-editor .block-list {
  font-size: 1rem;
  line-height: 1.6;
}

/* Button hover effects */
.notion-like-editor button {
  transition: all 0.15s ease-in-out;
}

.notion-like-editor button:hover {
  transform: translateY(-1px);
}

/* Loading animation */
@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}

.animate-spin {
  animation: spin 1s linear infinite;
}
